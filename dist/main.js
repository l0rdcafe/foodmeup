!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!b[e]||!w[e])return;for(var t in w[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(h[t]=n[t]);0==--v&&0===y&&q()}(e,t),n&&n(e,t)};var t,r=!0,i="07451f73ea33494c8a7b",o=1e4,a={},c=[],s=[];function d(e){var n=N[e];if(!n)return j;var r=function(r){return n.hot.active?(N[r]?-1===N[r].parents.indexOf(e)&&N[r].parents.push(e):(c=[e],t=r),-1===n.children.indexOf(r)&&n.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),c=[]),j(r)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(n){j[e]=n}}};for(var o in j)Object.prototype.hasOwnProperty.call(j,o)&&"e"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(e){return"ready"===l&&f("prepare"),y++,j.e(e).then(n,function(e){throw n(),e});function n(){y--,"prepare"===l&&(g[e]||_(e),0===y&&0===v&&q())}},r}var u=[],l="idle";function f(e){l=e;for(var n=0;n<u.length;n++)u[n].call(null,e)}var p,h,m,v=0,y=0,g={},w={},b={};function O(e){return+e+""===e?+e:e}function E(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(n=o,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,o=j.p+""+i+".hot-update.json";r.open("GET",o,!0),r.timeout=n,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+o+" failed."));else{try{var n=JSON.parse(r.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return f("idle"),null;w={},g={},b=e.c,m=e.h,f("prepare");var n=new Promise(function(e,n){p={resolve:e,reject:n}});h={};return _(0),"prepare"===l&&0===y&&0===v&&q(),n});var n}function _(e){b[e]?(w[e]=!0,v++,function(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.charset="utf-8",t.src=j.p+""+e+"."+i+".hot-update.js",n.appendChild(t)}(e)):g[e]=!0}function q(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return L(r)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&n.push(O(t));e.resolve(n)}}function L(n){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var t,r,o,s,d;function u(e){for(var n=[e],t={},r=n.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((s=N[o])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var c=0;c<s.parents.length;c++){var d=s.parents[c],u=N[d];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([d]),moduleId:o,parentId:d};-1===n.indexOf(d)&&(u.hot._acceptedDependencies[o]?(t[d]||(t[d]=[]),p(t[d],[o])):(delete t[d],n.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}n=n||{};var v={},y=[],g={},w=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var _;d=O(E);var q=!1,L=!1,D=!1,H="";switch((_=h[E]?u(d):{type:"disposed",moduleId:E}).chain&&(H="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(q=new Error("Aborted because of self decline: "+_.moduleId+H));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(q=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+H));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(q=new Error("Aborted because "+d+" is not accepted"+H));break;case"accepted":n.onAccepted&&n.onAccepted(_),L=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),D=!0;break;default:throw new Error("Unexception type "+_.type)}if(q)return f("abort"),Promise.reject(q);if(L)for(d in g[d]=h[d],p(y,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,d)&&(v[d]||(v[d]=[]),p(v[d],_.outdatedDependencies[d]));D&&(p(y,[_.moduleId]),g[d]=w)}var S,x=[];for(r=0;r<y.length;r++)d=y[r],N[d]&&N[d].hot._selfAccepted&&x.push({module:d,errorHandler:N[d].hot._selfAccepted});f("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var k,I,P=y.slice();P.length>0;)if(d=P.pop(),s=N[d]){var M={},C=s.hot._disposeHandlers;for(o=0;o<C.length;o++)(t=C[o])(M);for(a[d]=M,s.hot.active=!1,delete N[d],delete v[d],o=0;o<s.children.length;o++){var U=N[s.children[o]];U&&((S=U.parents.indexOf(d))>=0&&U.parents.splice(S,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(s=N[d]))for(I=v[d],o=0;o<I.length;o++)k=I[o],(S=s.children.indexOf(k))>=0&&s.children.splice(S,1);for(d in f("apply"),i=m,g)Object.prototype.hasOwnProperty.call(g,d)&&(e[d]=g[d]);var A=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(s=N[d])){I=v[d];var R=[];for(r=0;r<I.length;r++)if(k=I[r],t=s.hot._acceptedDependencies[k]){if(-1!==R.indexOf(t))continue;R.push(t)}for(r=0;r<R.length;r++){t=R[r];try{t(I)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:I[r],error:e}),n.ignoreErrored||A||(A=e)}}}for(r=0;r<x.length;r++){var T=x[r];d=T.module,c=[d];try{j(d)}catch(e){if("function"==typeof T.errorHandler)try{T.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||A||(A=t),A||(A=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||A||(A=e)}}return A?(f("fail"),Promise.reject(A)):(f("idle"),new Promise(function(e){e(y)}))}var N={};function j(n){if(N[n])return N[n].exports;var r=N[n]={i:n,l:!1,exports:{},hot:function(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:E,apply:L,status:function(e){if(!e)return l;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var n=u.indexOf(e);n>=0&&u.splice(n,1)},data:a[e]};return t=void 0,n}(n),parents:(s=c,c=[],s),children:[]};return e[n].call(r.exports,r,r.exports,d(n)),r.l=!0,r.exports}j.m=e,j.c=N,j.d=function(e,n,t){j.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,n){if(1&n&&(e=j(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(j.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)j.d(t,r,function(n){return e[n]}.bind(null,r));return t},j.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(n,"a",n),n},j.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},j.p="",j.h=function(){return i},d(4)(j.s=4)}([function(e,n,t){"use strict";t.r(n);var r={qs:function(e,n){return(n||document).querySelector(e)},qsa:function(e,n){return(n||document).querySelectorAll(e)},$on:function(e,n,t,r){e.addEventListener(n,t,!!r)},newEl:function(e){return document.createElement(e)},getJSON:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,n).then(function(e){return e.json()}).catch(function(e){return console.error(e)})}},i={},o={state:i,setRecipeInfo:function(e){i={};var n=e.name,t=e.recipeURL,r=e.nutrients,o=e.ingredients;return i.recipe={name:n,ingredients:o,nutrients:r,recipeURL:t},i},updateState:function(e){i.recipe.ingredients[""+e].done=!i.recipe.ingredients[""+e].done},setImg:function(e){return i.recipe.imgURL=e,i.recipe}},a=function(){var e=r.qsa(".notif");if(e.length>0)for(var n=0;n<e.length;n+=1)e[n].parentNode.removeChild(e[n])},c={drawRecipe:function(e){var n,t,i,o,c,s=r.qs(".section"),d=e.name,u=e.ingredients,l=e.recipeURL,f=e.nutrients,p=[(o=d,c=r.newEl("h4"),c.className="name text-c",c.innerHTML=o,c),function(e){var n=r.newEl("ul");return n.className="ingredients",e.forEach(function(e,t){var i=r.newEl("li");i.innerHTML='<i class="far fa-square text-secondary"></i>'+e.text,i.className="ingredients__item",i.id=t,n.appendChild(i)}),n}(u),(n=l,t=r.newEl("p"),i=r.newEl("a"),t.innerHTML="Full recipe ",t.className="link",i.innerHTML="here.",i.href=n,i.setAttribute("target","_blank"),t.appendChild(i),t),function(e){var n=r.newEl("ul");return n.className="nutrients",e.forEach(function(e){var t=r.newEl("li");t.className="nutrients__item",t.innerHTML=e.name+": "+e.quantity,n.appendChild(t)}),n}(f)],h=p[0],m=p[1],v=p[2],y=p[3],g=r.qs(".footer");a(),s.appendChild(h),s.appendChild(m),s.appendChild(y),s.appendChild(v),window.innerHeight-document.body.scrollHeight-100<100?(g.style.position="static",g.style.float="left"):(g.style.position="absolute",g.style.float="none")},drawSpinner:function(){var e=r.newEl("i"),n=r.qs(".section"),t=r.qs(".footer");e.className="fas fa-spinner fa-spin x-centered fa-lg",n.innerHTML="",t.style.position="absolute",n.appendChild(e)},removeSpinner:function(){var e=r.qs(".fa-spinner");e.parentNode.removeChild(e)},drawSearchState:function(){var e=r.newEl("input"),n=r.qs(".section"),t=r.newEl("h3");return t.className="title text-c",t.innerHTML="Please search one or more ingredients to find a recipe.",e.className="input input--primary x-centered",e.id="search",a(),n.insertBefore(e,n.firstChild),n.insertBefore(t,n.firstChild),e},drawNotif:function(e,n){var t='<div class="notif animated fadeInUp text-c '+n+'">'+e+"</div>",i=r.qs(".section");a(),i.insertAdjacentHTML("afterbegin",t);var o=r.qs(".notif"),c=r.qs(".title");c.classList.add("pushed"),setTimeout(function(){o.classList.remove("fadeInUp"),o.classList.add("fadeOutDown"),c.classList.remove("pushed")},2500)},toggleState:function(e){return e.classList.contains("fa-square")?(e.parentNode.classList.add("checked"),e.classList.remove("fa-square"),e.classList.add("fa-check-square"),e.parentNode.id):e.classList.contains("fa-check-square")?(e.parentNode.classList.remove("checked"),e.classList.remove("fa-check-square"),e.classList.add("fa-square"),e.parentNode.id):void 0},drawImg:function(e){var n=r.newEl("img"),t=r.qs(".section"),i=r.qs(".nutrients");n.src=e,n.className="img",t.insertBefore(n,i)},removeNotifs:a},s=function(e){var n="https://api.edamam.com/search?app_id=382eeaf3&app_key=b2a47b9b8c822bb8b655f0328ecce92b&q="+e;return r.getJSON(n).then(function(e){return function(e){var n=e.recipe.label,t=e.recipe.url,r=e.recipe.totalNutrients,i=e.recipe.ingredients.map(function(e){return{text:e.text,done:!1}}),o=[];return Object.keys(r).forEach(function(e){var n=Math.round(r[e].quantity),t={name:""+r[e].label,quantity:""+n+r[e].unit};o.push(t)}),{name:n,recipeURL:t,nutrients:o,ingredients:i}}(e.hits[0])})},d={headers:{Authorization:"Client-ID a47a5fb4cf5e039"}},u=function(e){var n="https://api.imgur.com/3/gallery/search/?q="+e;return r.getJSON(n,d).then(function(e){return function(e){var n=e.data;return 0===n.length?{error:!0,message:"No image results found."}:n[0].images[0].id}(e)}).then(function(e){return function(e){if(e.error)return e;var n="https://api.imgur.com/3/image/"+e;return r.getJSON(n,d)}(e)}).then(function(e){return function(e){return e.error?e:e.data.link}(e)})},l=function(e){if(13===(e.which||e.keyCode)){var n=r.qs("#search").value;""!==n&&!/[<>/\\&;`"*{}()\d$^%#@![\]]+/.test(n)?(c.drawSpinner(),s(n).then(function(e){var n=o.setRecipeInfo(e).recipe;c.removeSpinner(),c.drawRecipe(n),function(){var e=r.qs(".ingredients");r.$on(e,"click",function(e){var n=c.toggleState(e.target);n&&o.updateState(n)})}();var t=encodeURIComponent(n.name.toLowerCase());u(t).then(function(e){if(e.error)c.drawNotif(e.message,"error");else{var n=o.setImg(e).imgURL;c.drawImg(n)}}).catch(function(e){return console.error(e)})}).catch(function(e){c.drawNotif("Sorry, something went wrong. Please try again later.","error"),c.removeSpinner()}),f()):c.drawNotif("Please enter a valid search query.","primary")}},f=function(){c.drawSearchState(),r.$on(document,"keydown",l)};r.$on(document,"DOMContentLoaded",f)},,,function(e,n,t){},function(e,n,t){t(0),e.exports=t(3)}]);
//# sourceMappingURL=main.js.map