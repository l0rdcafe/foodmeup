!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!b[e]||!w[e])return;for(var t in w[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(h[t]=n[t]);0==--m&&0===y&&_()}(e,t),n&&n(e,t)};var t,r=!0,o="f625371a41ef8c0cafa9",i=1e4,a={},c=[],s=[];function d(e){var n=N[e];if(!n)return H;var r=function(r){return n.hot.active?(N[r]?-1===N[r].parents.indexOf(e)&&N[r].parents.push(e):(c=[e],t=r),-1===n.children.indexOf(r)&&n.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),c=[]),H(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return H[e]},set:function(n){H[e]=n}}};for(var i in H)Object.prototype.hasOwnProperty.call(H,i)&&"e"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===u&&f("prepare"),y++,H.e(e).then(n,function(e){throw n(),e});function n(){y--,"prepare"===u&&(g[e]||q(e),0===y&&0===m&&_())}},r}var l=[],u="idle";function f(e){u=e;for(var n=0;n<l.length;n++)l[n].call(null,e)}var p,h,v,m=0,y=0,g={},w={},b={};function E(e){return+e+""===e?+e:e}function O(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(n=i,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,i=H.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=n,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+i+" failed."));else{try{var n=JSON.parse(r.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return f("idle"),null;w={},g={},b=e.c,v=e.h,f("prepare");var n=new Promise(function(e,n){p={resolve:e,reject:n}});h={};return q(0),"prepare"===u&&0===y&&0===m&&_(),n});var n}function q(e){b[e]?(w[e]=!0,m++,function(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.charset="utf-8",t.src=H.p+""+e+"."+o+".hot-update.js",n.appendChild(t)}(e)):g[e]=!0}function _(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return x(r)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&n.push(E(t));e.resolve(n)}}function x(n){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var t,r,i,s,d;function l(e){for(var n=[e],t={},r=n.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((s=N[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<s.parents.length;c++){var d=s.parents[c],l=N[d];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([d]),moduleId:i,parentId:d};-1===n.indexOf(d)&&(l.hot._acceptedDependencies[i]?(t[d]||(t[d]=[]),p(t[d],[i])):(delete t[d],n.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}n=n||{};var m={},y=[],g={},w=function(){console.warn("[HMR] unexpected require("+q.moduleId+") to disposed module")};for(var O in h)if(Object.prototype.hasOwnProperty.call(h,O)){var q;d=E(O);var _=!1,x=!1,S=!1,j="";switch((q=h[O]?l(d):{type:"disposed",moduleId:O}).chain&&(j="\nUpdate propagation: "+q.chain.join(" -> ")),q.type){case"self-declined":n.onDeclined&&n.onDeclined(q),n.ignoreDeclined||(_=new Error("Aborted because of self decline: "+q.moduleId+j));break;case"declined":n.onDeclined&&n.onDeclined(q),n.ignoreDeclined||(_=new Error("Aborted because of declined dependency: "+q.moduleId+" in "+q.parentId+j));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(q),n.ignoreUnaccepted||(_=new Error("Aborted because "+d+" is not accepted"+j));break;case"accepted":n.onAccepted&&n.onAccepted(q),x=!0;break;case"disposed":n.onDisposed&&n.onDisposed(q),S=!0;break;default:throw new Error("Unexception type "+q.type)}if(_)return f("abort"),Promise.reject(_);if(x)for(d in g[d]=h[d],p(y,q.outdatedModules),q.outdatedDependencies)Object.prototype.hasOwnProperty.call(q.outdatedDependencies,d)&&(m[d]||(m[d]=[]),p(m[d],q.outdatedDependencies[d]));S&&(p(y,[q.moduleId]),g[d]=w)}var D,L=[];for(r=0;r<y.length;r++)d=y[r],N[d]&&N[d].hot._selfAccepted&&L.push({module:d,errorHandler:N[d].hot._selfAccepted});f("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var k,M,P=y.slice();P.length>0;)if(d=P.pop(),s=N[d]){var A={},C=s.hot._disposeHandlers;for(i=0;i<C.length;i++)(t=C[i])(A);for(a[d]=A,s.hot.active=!1,delete N[d],delete m[d],i=0;i<s.children.length;i++){var I=N[s.children[i]];I&&((D=I.parents.indexOf(d))>=0&&I.parents.splice(D,1))}}for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=N[d]))for(M=m[d],i=0;i<M.length;i++)k=M[i],(D=s.children.indexOf(k))>=0&&s.children.splice(D,1);for(d in f("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,d)&&(e[d]=g[d]);var T=null;for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=N[d])){M=m[d];var U=[];for(r=0;r<M.length;r++)if(k=M[r],t=s.hot._acceptedDependencies[k]){if(-1!==U.indexOf(t))continue;U.push(t)}for(r=0;r<U.length;r++){t=U[r];try{t(M)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:M[r],error:e}),n.ignoreErrored||T||(T=e)}}}for(r=0;r<L.length;r++){var R=L[r];d=R.module,c=[d];try{H(d)}catch(e){if("function"==typeof R.errorHandler)try{R.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||T||(T=t),T||(T=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||T||(T=e)}}return T?(f("fail"),Promise.reject(T)):(f("idle"),new Promise(function(e){e(y)}))}var N={};function H(n){if(N[n])return N[n].exports;var r=N[n]={i:n,l:!1,exports:{},hot:function(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:O,apply:x,status:function(e){if(!e)return u;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var n=l.indexOf(e);n>=0&&l.splice(n,1)},data:a[e]};return t=void 0,n}(n),parents:(s=c,c=[],s),children:[]};return e[n].call(r.exports,r,r.exports,d(n)),r.l=!0,r.exports}H.m=e,H.c=N,H.d=function(e,n,t){H.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},H.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},H.t=function(e,n){if(1&n&&(e=H(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(H.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)H.d(t,r,function(n){return e[n]}.bind(null,r));return t},H.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return H.d(n,"a",n),n},H.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},H.p="",H.h=function(){return o},d(4)(H.s=4)}([function(e,n,t){"use strict";t.r(n);var r={qs:function(e,n){return(n||document).querySelector(e)},qsa:function(e,n){return(n||document).querySelectorAll(e)},$on:function(e,n,t,r){e.addEventListener(n,t,!!r)},newEl:function(e){return document.createElement(e)},getJSON:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,n).then(function(e){return e.json()}).catch(function(e){return console.error(e)})}};var o={},i={state:o,setState:function(e){return(o={}).recipes=[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e)),o},updateState:function(e){o.recipe.ingredients[""+e].done=!o.recipe.ingredients[""+e].done},getState:function(){return o}},a=function(){var e=r.qsa(".notif");if(e.length>0)for(var n=0;n<e.length;n+=1)e[n].parentNode.removeChild(e[n])},c={drawRecipe:function(e){var n,t,o,i,c,s=r.qs(".section"),d=e.name,l=e.ingredients,u=e.recipeURL,f=e.nutrients,p=e.img,h=[(i=d,c=r.newEl("h4"),c.className="name text-c",c.innerHTML=i,c),function(e){var n=r.newEl("ul");return n.className="ingredients",e.forEach(function(e,t){var o=r.newEl("li");o.innerHTML='<i class="far fa-square text-secondary"></i>'+e.text,o.className="ingredients__item",o.id=t,n.appendChild(o)}),n}(l),(n=u,t=r.newEl("p"),o=r.newEl("a"),t.innerHTML="Full recipe ",t.className="link",o.innerHTML="here.",o.href=n,o.setAttribute("target","_blank"),t.appendChild(o),t),function(e){var n=r.newEl("ul");return n.className="nutrients",e.forEach(function(e){var t=r.newEl("li");t.className="nutrients__item",t.innerHTML=e.name+": "+e.quantity,n.appendChild(t)}),n}(f)],v=h[0],m=h[1],y=h[2],g=h[3],w=r.qs(".footer");a(),s.innerHTML="",w.style.position="absolute",w.style.float="none",s.appendChild(v),s.appendChild(m),s.appendChild(g),s.appendChild(y),function(e){var n=r.newEl("img"),t=r.qs(".section"),o=r.qs(".nutrients");n.src=e,n.className="img",t.insertBefore(n,o)}(p),function(){var e=r.newEl("button"),n=r.qs(".section");e.className="secondary button",e.id="next",e.innerHTML="Next",n.appendChild(e)}(),window.innerHeight-document.body.scrollHeight-100<100?(w.style.position="static",w.style.float="left"):(w.style.position="absolute",w.style.float="none")},drawSpinner:function(){var e=r.newEl("i"),n=r.qs(".section"),t=r.qs(".footer");e.className="fas fa-spinner fa-spin x-centered fa-lg",n.innerHTML="",t.style.position="absolute",n.appendChild(e)},removeSpinner:function(){var e=r.qs(".fa-spinner");e.parentNode.removeChild(e)},drawSearchState:function(){var e=r.newEl("input"),n=r.qs(".section"),t=r.newEl("h3");return t.className="title text-c",t.innerHTML="Please search one or more ingredients to find a recipe.",e.className="input input--primary x-centered",e.id="search",a(),n.insertBefore(e,n.firstChild),n.insertBefore(t,n.firstChild),e},drawNotif:function(e,n){var t='<div class="notif animated fadeInUp text-c '+n+'">'+e+"</div>",o=r.qs(".section");a(),o.insertAdjacentHTML("afterbegin",t);var i=r.qs(".notif"),c=r.qs(".title");c.classList.add("pushed"),setTimeout(function(){i.classList.remove("fadeInUp"),i.classList.add("fadeOutDown"),c.classList.remove("pushed")},2500)},toggleState:function(e){return e.classList.contains("fa-square")?(e.parentNode.classList.add("checked"),e.classList.remove("fa-square"),e.classList.add("fa-check-square"),e.parentNode.id):e.classList.contains("fa-check-square")?(e.parentNode.classList.remove("checked"),e.classList.remove("fa-check-square"),e.classList.add("fa-square"),e.parentNode.id):void 0},removeNotifs:a,removeNextBtn:function(){var e=r.qs("#next");e.parentNode.removeChild(e)}},s=function(e){var n="https://api.edamam.com/search?app_id=382eeaf3&app_key=b2a47b9b8c822bb8b655f0328ecce92b&q="+e;return r.getJSON(n).then(function(e){return function(e){var n=[];return e.forEach(function(e){var t=e.recipe.label,r=e.recipe.url,o=e.recipe.totalNutrients,i=e.recipe.ingredients.map(function(e){return{text:e.text,done:!1}}),a=[],c=e.recipe.image;Object.keys(o).forEach(function(e){var n=Math.round(o[e].quantity),t={name:""+o[e].label,quantity:""+n+o[e].unit};a.push(t)}),n.push({name:t,recipeURL:r,nutrients:a,ingredients:i,img:c})}),n}(e.hits)})},d=function(e){if(e.length>0){var n=e.shift();c.drawRecipe(n),function(){var e=r.qs(".ingredients");r.$on(e,"click",function(e){var n=c.toggleState(e.target);n&&i.updateState(n)})}(),t=r.qs("#next"),r.$on(t,"click",function(){var e=i.getState().recipes;console.log(e),d(e)}),u()}else c.drawNotif("You ran out of results.","info"),c.removeNextBtn();var t},l=function(e){if(13===(e.which||e.keyCode)){var n=r.qs("#search").value;""!==n&&!/[<>/\\&;`"*{}()\d$^%#@![\]]+/.test(n)?(c.drawSpinner(),s(n).then(function(e){var n=i.setState(e).recipes;c.removeSpinner(),d(n)}).catch(function(e){c.drawNotif("Sorry, something went wrong. Please try again later.","error"),c.removeSpinner()})):c.drawNotif("Please enter a valid search query.","primary")}},u=function(){c.drawSearchState(),r.$on(document,"keydown",l)};r.$on(document,"DOMContentLoaded",u)},,,function(e,n,t){},function(e,n,t){t(0),e.exports=t(3)}]);
//# sourceMappingURL=main.js.map