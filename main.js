!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!b[e]||!w[e])return;for(var t in w[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(h[t]=n[t]);0==--m&&0===y&&q()}(e,t),n&&n(e,t)};var t,r=!0,o="699f5db186a18ff6ae37",i=1e4,a={},c=[],s=[];function d(e){var n=D[e];if(!n)return H;var r=function(r){return n.hot.active?(D[r]?-1===D[r].parents.indexOf(e)&&D[r].parents.push(e):(c=[e],t=r),-1===n.children.indexOf(r)&&n.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),c=[]),H(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return H[e]},set:function(n){H[e]=n}}};for(var i in H)Object.prototype.hasOwnProperty.call(H,i)&&"e"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===l&&f("prepare"),y++,H.e(e).then(n,function(e){throw n(),e});function n(){y--,"prepare"===l&&(g[e]||_(e),0===y&&0===m&&q())}},r}var u=[],l="idle";function f(e){l=e;for(var n=0;n<u.length;n++)u[n].call(null,e)}var p,h,v,m=0,y=0,g={},w={},b={};function O(e){return+e+""===e?+e:e}function E(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(n=i,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,i=H.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=n,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+i+" failed."));else{try{var n=JSON.parse(r.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return f("idle"),null;w={},g={},b=e.c,v=e.h,f("prepare");var n=new Promise(function(e,n){p={resolve:e,reject:n}});h={};return _(0),"prepare"===l&&0===y&&0===m&&q(),n});var n}function _(e){b[e]?(w[e]=!0,m++,function(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.charset="utf-8",t.src=H.p+""+e+"."+o+".hot-update.js",n.appendChild(t)}(e)):g[e]=!0}function q(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return j(r)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&n.push(O(t));e.resolve(n)}}function j(n){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var t,r,i,s,d;function u(e){for(var n=[e],t={},r=n.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((s=D[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<s.parents.length;c++){var d=s.parents[c],u=D[d];if(u){if(u.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([d]),moduleId:i,parentId:d};-1===n.indexOf(d)&&(u.hot._acceptedDependencies[i]?(t[d]||(t[d]=[]),p(t[d],[i])):(delete t[d],n.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}n=n||{};var m={},y=[],g={},w=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var _;d=O(E);var q=!1,j=!1,L=!1,N="";switch((_=h[E]?u(d):{type:"disposed",moduleId:E}).chain&&(N="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(q=new Error("Aborted because of self decline: "+_.moduleId+N));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(q=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+N));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(q=new Error("Aborted because "+d+" is not accepted"+N));break;case"accepted":n.onAccepted&&n.onAccepted(_),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),L=!0;break;default:throw new Error("Unexception type "+_.type)}if(q)return f("abort"),Promise.reject(q);if(j)for(d in g[d]=h[d],p(y,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,d)&&(m[d]||(m[d]=[]),p(m[d],_.outdatedDependencies[d]));L&&(p(y,[_.moduleId]),g[d]=w)}var x,S=[];for(r=0;r<y.length;r++)d=y[r],D[d]&&D[d].hot._selfAccepted&&S.push({module:d,errorHandler:D[d].hot._selfAccepted});f("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var k,I,M=y.slice();M.length>0;)if(d=M.pop(),s=D[d]){var P={},C=s.hot._disposeHandlers;for(i=0;i<C.length;i++)(t=C[i])(P);for(a[d]=P,s.hot.active=!1,delete D[d],delete m[d],i=0;i<s.children.length;i++){var U=D[s.children[i]];U&&((x=U.parents.indexOf(d))>=0&&U.parents.splice(x,1))}}for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=D[d]))for(I=m[d],i=0;i<I.length;i++)k=I[i],(x=s.children.indexOf(k))>=0&&s.children.splice(x,1);for(d in f("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,d)&&(e[d]=g[d]);var A=null;for(d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&(s=D[d])){I=m[d];var R=[];for(r=0;r<I.length;r++)if(k=I[r],t=s.hot._acceptedDependencies[k]){if(-1!==R.indexOf(t))continue;R.push(t)}for(r=0;r<R.length;r++){t=R[r];try{t(I)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:I[r],error:e}),n.ignoreErrored||A||(A=e)}}}for(r=0;r<S.length;r++){var T=S[r];d=T.module,c=[d];try{H(d)}catch(e){if("function"==typeof T.errorHandler)try{T.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||A||(A=t),A||(A=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||A||(A=e)}}return A?(f("fail"),Promise.reject(A)):(f("idle"),new Promise(function(e){e(y)}))}var D={};function H(n){if(D[n])return D[n].exports;var r=D[n]={i:n,l:!1,exports:{},hot:function(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:E,apply:j,status:function(e){if(!e)return l;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var n=u.indexOf(e);n>=0&&u.splice(n,1)},data:a[e]};return t=void 0,n}(n),parents:(s=c,c=[],s),children:[]};return e[n].call(r.exports,r,r.exports,d(n)),r.l=!0,r.exports}H.m=e,H.c=D,H.d=function(e,n,t){H.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},H.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},H.t=function(e,n){if(1&n&&(e=H(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(H.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)H.d(t,r,function(n){return e[n]}.bind(null,r));return t},H.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return H.d(n,"a",n),n},H.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},H.p="",H.h=function(){return o},d(4)(H.s=4)}([function(e,n,t){"use strict";t.r(n);var r={qs:function(e,n){return(n||document).querySelector(e)},qsa:function(e,n){return(n||document).querySelectorAll(e)},$on:function(e,n,t,r){e.addEventListener(n,t,!!r)},newEl:function(e){return document.createElement(e)},getJSON:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,n).then(function(e){return e.json()}).catch(function(e){return console.error(e)})}},o={},i={state:o,setRecipeInfo:function(e){o={};var n=e.name,t=e.recipeURL,r=e.nutrients,i=e.ingredients;return o.recipe={name:n,ingredients:i,nutrients:r,recipeURL:t},console.log(o),o},updateState:function(e){o.recipe.ingredients[""+e].done=!o.recipe.ingredients[""+e].done},setImg:function(e){return o.recipe.imgURL=e,o.recipe}},a=function(){var e=r.qsa(".notif");if(e.length>0)for(var n=0;n<e.length;n+=1)e[n].parentNode.removeChild(e[n])},c={drawRecipe:function(e){var n,t,o,i,c,s=r.qs(".section"),d=e.name,u=e.ingredients,l=e.recipeURL,f=e.nutrients,p=[(i=d,c=r.newEl("h4"),c.className="name text-c",c.innerHTML=i,c),function(e){var n=r.newEl("ul");return n.className="ingredients",e.forEach(function(e,t){var o=r.newEl("li");o.innerHTML='<i class="far fa-square text-secondary"></i>'+e.text,o.className="ingredients__item",o.id=t,n.appendChild(o)}),n}(u),(n=l,t=r.newEl("p"),o=r.newEl("a"),t.innerHTML="Full recipe ",t.className="text-c link",o.innerHTML="here.",o.href=n,o.setAttribute("target","_blank"),t.appendChild(o),t),function(e){var n=r.newEl("ul");return n.className="nutrients",e.forEach(function(e){var t=r.newEl("li");t.className="nutrients__item",t.innerHTML=e.name+": "+e.quantity,n.appendChild(t)}),n}(f)],h=p[0],v=p[1],m=p[2],y=p[3],g=r.qs(".footer");a(),s.appendChild(h),s.appendChild(v),s.appendChild(y),s.appendChild(m),window.innerHeight-document.body.scrollHeight-60<20?(g.style.position="static",g.style.float="left"):(g.style.position="absolute",g.style.float="none")},drawSpinner:function(){var e=r.newEl("i"),n=r.qs(".section"),t=r.qs(".footer");e.className="fas fa-spinner fa-spin x-centered fa-lg",n.innerHTML="",t.style.position="absolute",n.appendChild(e)},removeSpinner:function(){var e=r.qs(".fa-spinner");e.parentNode.removeChild(e)},drawSearchField:function(){var e=r.newEl("input"),n=r.qs(".section");return e.className="input input--primary",e.id="search",a(),n.insertBefore(e,n.firstChild),e},drawNotif:function(e,n){var t='<div class="notif animated fadeInUp text-c '+n+'">'+e+"</div>",o=r.qs(".section");a(),o.insertAdjacentHTML("beforebegin",t);var i=r.qs(".notif");setTimeout(function(){i.classList.remove("fadeInUp"),i.classList.add("fadeOutDown")},2500)},toggleState:function(e){return e.classList.contains("fa-square")?(e.parentNode.classList.add("checked"),e.classList.remove("fa-square"),e.classList.add("fa-check-square"),e.parentNode.id):e.classList.contains("fa-check-square")?(e.parentNode.classList.remove("checked"),e.classList.remove("fa-check-square"),e.classList.add("fa-square"),e.parentNode.id):void 0},drawImg:function(e){var n=r.newEl("img"),t=r.qs(".section"),o=r.qs(".nutrients");n.src=e,n.className="img",t.insertBefore(n,o)},removeNotifs:a},s=function(e){var n="https://api.edamam.com/search?app_id=382eeaf3&app_key=b2a47b9b8c822bb8b655f0328ecce92b&q="+e;return r.getJSON(n).then(function(e){return function(e){console.log(e);var n=e.recipe.label,t=e.recipe.url,r=e.recipe.totalNutrients,o=e.recipe.ingredients.map(function(e){return{text:e.text,done:!1}}),i=[];return Object.keys(r).forEach(function(e){var n=Math.round(r[e].quantity),t={name:""+r[e].label,quantity:""+n+r[e].unit};i.push(t)}),{name:n,recipeURL:t,nutrients:i,ingredients:o}}(e.hits[0])})},d={headers:{Authorization:"Client-ID a47a5fb4cf5e039"}},u=function(e){var n="https://api.imgur.com/3/gallery/search/?q="+e;return r.getJSON(n,d).then(function(e){return function(e){var n=e.data;return console.log(n),0===n.length?{error:!0,message:"No image results found."}:n[0].images[0].id}(e)}).then(function(e){return function(e){if(e.error)return e;var n="https://api.imgur.com/3/image/"+e;return r.getJSON(n,d)}(e)}).then(function(e){return function(e){return e.error?e:e.data.link}(e)})},l=function(e){if(13===(e.which||e.keyCode)){var n=r.qs("#search").value;""!==n&&(c.drawSpinner(),s(n).then(function(e){var n=i.setRecipeInfo(e).recipe;c.removeSpinner(),c.drawRecipe(n),function(){var e=r.qs(".ingredients");r.$on(e,"click",function(e){var n=c.toggleState(e.target);n&&i.updateState(n)})}();var t=encodeURIComponent(n.name.toLowerCase());u(t).then(function(e){if(console.log(e),e.error)c.drawNotif(e.message,"error");else{var n=i.setImg(e).imgURL;c.drawImg(n)}}).catch(function(e){return console.error(e)})}).catch(function(e){c.drawNotif("Sorry, something went wrong. Please try again later.","error")})),f()}},f=function(){c.drawSearchField(),r.$on(document,"keydown",l)};r.$on(document,"DOMContentLoaded",f)},,,function(e,n,t){},function(e,n,t){t(0),e.exports=t(3)}]);
//# sourceMappingURL=main.js.map